(this["webpackJsonpchat-client"]=this["webpackJsonpchat-client"]||[]).push([[0],{48:function(e,t,a){e.exports=a(99)},56:function(e,t,a){},72:function(e,t,a){},96:function(e,t){},99:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(43),o=a.n(c),i=(a(55),a(2)),m=a(11),u=(a(56),function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(i.a)(c,2),u=o[0],s=o[1],E=Object(r.useState)(""),d=Object(i.a)(E,2),v=d[0],b=d[1];return l.a.createElement("div",{class:"outercontainer"},l.a.createElement("div",{class:"jumbotron text-center bg-dark text-white"},l.a.createElement("h1",{class:"display-1"},"LET'S CONNECT HERE"),l.a.createElement("h5",null,"A new way to express yourself..")),l.a.createElement("div",{class:"container pt-5"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-12 text-white"},l.a.createElement("form",null,l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{className:"form-control",placeholder:"Enter email",type:"email",id:"email",required:!0,onChange:function(e){return n(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{className:"form-control",placeholder:"Enter your name",type:"text",name:"name",id:"name",required:!0,onChange:function(e){return s(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"RoomNo"),l.a.createElement("input",{className:"form-control",placeholder:"Enter roomId",type:"text",name:"roomId",id:"roomId",required:!0,onChange:function(e){return b(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement(m.b,{className:"buttonlink",onClick:function(e){return a&&u&&v?null:e.preventDefault()},to:"/chat?email=".concat(a,"&name=").concat(u,"&roomId=").concat(v)},l.a.createElement("button",{type:"submit",class:"btn btn-primary btn-lg"},"StartChat"))))))))}),s=a(14),E=a(46),d=a.n(E),v=function(e){var t=e.privatechat,a=e.users,n=e.name,c=e.email,o=(e.roomId,e.sendReceiver),m=Object(r.useState)([]),u=Object(i.a)(m,2),s=(u[0],u[1]);return Object(r.useEffect)((function(){a&&a.map((function(e){if(e.id===t.id){var a={id:e.id,counter:1};s(a)}}))}),[t]),l.a.createElement("div",{class:"container"},a?l.a.createElement("div",null,l.a.createElement("h2",null," search bar to add"),l.a.createElement("ul",{class:"list-group"},a.map((function(e,t){return l.a.createElement("li",{key:t},function(e){if(e.name!==n&&e.email!==c)return l.a.createElement("button",{class:"btn btn-link list-group-item list-group-item-action bg-light",onClick:function(t){o({user:e})}},l.a.createElement("h3",null,e.name))}(e))})))):l.a.createElement("div",null,"waiting for others to join"))},b=function(e){var t=e.messages,a=e.name,n=e.email;return l.a.createElement("div",{class:"container"},l.a.createElement("h1",null,"Hi Welcome to Chatbox"),l.a.createElement("div",null,t?l.a.createElement("div",null,t.map((function(e,t){return l.a.createElement("div",{key:t},function(e){return e.user===a.toLowerCase()&&e.email===n?l.a.createElement("div",null,l.a.createElement("div",{style:{backgroundColor:"lightgreen",textAlign:"right"}},l.a.createElement("i",null,e.user),l.a.createElement("h3",null,e.text))):l.a.createElement("div",null,l.a.createElement("div",{style:{backgroundColor:"lightblue"}},l.a.createElement("i",null,e.user),l.a.createElement("h3",null,e.text)))}(e))}))):null))},f=function(e){var t=e.name,a=e.privateChatMsg,n=e.privateReceiver,c=e.getText,o=Object(r.useState)(""),m=Object(i.a)(o,2),u=m[0],E=m[1],d=Object(r.useState)(""),v=Object(i.a)(d,2),b=v[0],f=v[1];console.log(t),console.log(b),Object(r.useEffect)((function(){if(a){var e=a.recText,t={name:a.name,text:e};f((function(e){return[].concat(Object(s.a)(e),[t])}))}}),[a]);var p=function(e){e.preventDefault(),n.chatText=u;var a={name:t,text:u};f((function(e){return[].concat(Object(s.a)(e),[a])})),console.log(n),c(n),E("")};return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-12 border"},l.a.createElement("div",null,b?l.a.createElement("div",null,b.map((function(e,a){return l.a.createElement("div",{key:a},e.name.toLowerCase()===t.toLowerCase()?l.a.createElement("div",{class:"bg-success"},l.a.createElement("i",null,e.name),l.a.createElement("h4",null,e.text)):l.a.createElement("div",{class:"bg-secondary"},l.a.createElement("i",null,e.name),l.a.createElement("h4",null,e.text)))}))):null),l.a.createElement("div",null,l.a.createElement("input",{type:"text",class:"form-control",value:u,onChange:function(e){return E(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?p(e):null}}),l.a.createElement("button",{class:"btn btn-block btn-primary",onClick:function(e){return p(e)}},"SendPrivately")))))},p=(a(72),a(47)),g=a.n(p),h=function(e){var t=e.location,a=Object(r.useState)(""),c=Object(i.a)(a,2),o=c[0],m=c[1],u=Object(r.useState)(""),E=Object(i.a)(u,2),p=E[0],h=E[1],j=Object(r.useState)(""),O=Object(i.a)(j,2),x=O[0],y=O[1],C=Object(r.useState)(""),k=Object(i.a)(C,2),S=k[0],w=k[1],I=Object(r.useState)(""),N=Object(i.a)(I,2),T=N[0],R=N[1],P=Object(r.useState)([]),A=Object(i.a)(P,2),D=A[0],L=A[1],q=Object(r.useState)(""),M=Object(i.a)(q,2),H=M[0],J=M[1],K=Object(r.useState)(""),B=Object(i.a)(K,2),F=B[0],W=B[1];Object(r.useEffect)((function(){var e=d.a.parse(t.search),a=e.email,r=e.name,l=e.roomId;n=g()("/"),console.log(n),h(r),m(a),y(l),n.emit("join",{email:a,name:r,roomId:l},(function(e){e&&console.log("join"+e)}))}),["/",t.search]),Object(r.useEffect)((function(){n.on("message",(function(e){L((function(t){return[].concat(Object(s.a)(t),[e])})),console.log(D),console.log(e)})),n.on("privateText",(function(e){var t=e.userFrom;W(t),console.log(t)})),n.on("roomData",(function(e){var t=e.users;w(t),console.log(t)}))}),[]);var Y=function(e){e.preventDefault(),T&&n.emit("sendMessage",T,(function(){return R("")}))};return l.a.createElement("div",null,l.a.createElement("div",{class:"boxcontainer"},l.a.createElement("div",{className:"jumbotron mt-3 p-1 text-center bg-dark text-white"},l.a.createElement("h1",null,"You are in room :",x),l.a.createElement("h2",null,p),l.a.createElement("h2",null,o)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 "},l.a.createElement("div",{class:"container border"},l.a.createElement("h1",{class:"bg-secondary text-center"},"PARTICIPANTS"),l.a.createElement("div",null,l.a.createElement(v,{privatechat:F,users:S,name:p,email:o,roomId:x,sendReceiver:function(e){var t={id:e.user.id,name:e.user.name,email:e.user.email,roomId:e.user.roomId};J(t)}})),H?l.a.createElement(f,{name:p,privateChatMsg:F,privateReceiver:H,getText:function(e){n.emit("startprivate",{privatechatObj:e},(function(e){}))}}):null)),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{class:"container border"},l.a.createElement("div",{class:"boxstyle"},l.a.createElement(b,{messages:D,name:p,email:o})),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-8 offset-md-1"},l.a.createElement("input",{type:"text",class:"form-control form-control-lg bg-dark text-white",placeholder:"Type here......",value:T,onChange:function(e){return R(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?Y(e):null}})),l.a.createElement("div",{class:"col-md-2"},l.a.createElement("button",{class:"btn btn-primary btn-block btn-lg",onClick:function(e){return Y(e)}},"Send"))))))))},j=a(7),O=function(){return l.a.createElement(m.a,null,l.a.createElement(j.a,{path:"/",exact:!0,component:u}),l.a.createElement(j.a,{exact:!0,path:"/privatechat",component:f}),l.a.createElement(j.a,{exact:!0,path:"/chat",component:h}))};o.a.render(l.a.createElement(O,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.473c9573.chunk.js.map